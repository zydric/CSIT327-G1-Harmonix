{% extends 'base.html' %}
{% load static %}

{% block title %}Sent Invitations - Harmonix{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <div class="space-y-6">
        {% for invitation in invitations %}
            <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
                <div class="p-6">
                    <div class="flex flex-col md:flex-row gap-6">
                        <div class="flex-1 md:border-l md:border-gray-100 md:pl-6 relative flex flex-col justify-between">
                            <div class="mt-4 pt-4 border-t border-gray-100 flex justify-between items-center">
                                <span class="text-xs text-gray-500">
                                    Invitation for listing: 
                                    <a href="#" class="font-medium text-[#4F2FC0] hover:underline">{{ invitation.listing.title }}</a>
                                </span>
                                
                                {% if invitation.status == 'pending' %}
                                    <button class="text-sm text-red-600 hover:text-red-800 font-medium transition-colors">
                                        Withdraw Invitation
                                    </button>
                                {% elif invitation.status == 'accepted' %}
                                    <button class="text-sm text-[#4F2FC0] hover:text-purple-800 font-medium">
                                        Send Message
                                    </button>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>

                {% if invitation.status == 'accepted' %}
                    <div class="bg-green-50 px-6 py-4 border-t border-green-100 flex items-start space-x-3">
                        <svg class="w-5 h-5 text-green-600 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                        </svg>
                        <div>
                            <h4 class="text-sm font-bold text-green-800">Invitation Accepted!</h4>
                            <p class="text-sm text-green-700 mt-1">{{ invitation.recipient.first_name }} has accepted. You can now view their contact details.</p>
                        </div>
                    </div>
                {% elif invitation.status == 'pending' %}
                    <div class="bg-yellow-50 px-6 py-4 border-t border-yellow-100 flex items-start space-x-3">
                        <svg class="w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        <div>
                            <h4 class="text-sm font-bold text-yellow-800">Awaiting Response</h4>
                            <p class="text-sm text-yellow-700 mt-1">The musician hasn't responded yet. They'll be notified of your invitation.</p>
                        </div>
                    </div>
                {% endif %}
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}